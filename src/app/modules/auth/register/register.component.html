<div class="h-screen flex">
  <div class="w-full lg:w-1/2 bg-white flex items-center justify-center p-8">
    <img class=" absolute top-12 tall:top-4 left-12 object-cover w-[119px] h-[30px]"
         src="assets/kopist-logo.svg" alt="logo"/>
    <div class="w-full lg:w-8/12 m-auto ">
      <h1 class="tall:text-3xl text-5xl font-semibold pb-6">Sign up</h1>
      <p class="opacity-50 text-base font-normal">Enter to continue and explore within your grasp.</p>
      <div class="mt-16 tall:mt-8"></div>
      <div action="" class="my-10">
        <div class="flex flex-col space-y-10 tall:space-y-5" [formGroup]="registrationForm">
          <label for="email" class="relative" *ngIf="formStepper == 1">
            <p class="opacity-50 text-sm font-normal">Email Address</p>
            <input formControlName="email" id="email" name="email" type="email"
                   class="w-full py-3 border-b border-[#192339]-200 focus:outline-none placeholder:opacity-50 placeholder:text-xl placeholder:font-semibold placeholder:text-[#192339]"
                   placeholder="Youraddres@email.com" [ngClass]="registrationForm.controls['email'].invalid &&
              (registrationForm.controls['email'].dirty ||
              registrationForm.controls['email'].touched) ? 'placeholder:text-[#BE4B49]':'placeholder:text-[#192339]'"
                   (keydown.enter)="!registrationForm.controls['email'].invalid &&
              (registrationForm.controls['email'].dirty ||
              registrationForm.controls['email'].touched) ? formStepper = 2 : formStepper = 1"/>
            <div
              class="error-text items-center absolute flex left-0 bottom-[-24px] w-full bg-[#FFEEEE] text-[#BE4B49] text-xs py-1 pl-4 border-t border-[#BE4B49]"
              *ngIf="
              registrationForm.controls['email'].invalid &&
            (registrationForm.controls['email'].dirty ||
            registrationForm.controls['email'].touched)
          ">
              <img src="assets/authicons/error-icon.svg" alt="e">
              <span class="text-[#BE4B49] text-xs ml-2"> Please provide a properly formatted email address
              </span>
            </div>
          </label>
          <label for="name" class="relative" *ngIf="formStepper == 2">
            <p class="opacity-50 text-sm font-normal tall:pb-1">First Name</p>
            <input formControlName="name" id="name" name="name" type="text"
                   class="w-full py-3 border-b border-[#192339]-200  focus:outline-none placeholder:opacity-50 placeholder:text-xl placeholder:font-semibold placeholder:text-[#192339]"
                   placeholder="First name"
                   [ngClass]="registrationForm.controls['name'].invalid  && (registrationForm.controls['name'].dirty || registrationForm.controls['name'].touched) ? 'placeholder:text-[#BE4B49]':'placeholder:text-[#192339]'"
                   (keydown.enter)="!registrationForm.controls['name'].invalid &&
              (registrationForm.controls['name'].dirty ||
              registrationForm.controls['name'].touched) && !registrationForm.controls['lastName'].invalid  && (registrationForm.controls['lastName'].dirty || registrationForm.controls['lastName'].touched) ? formStepper = 3 : formStepper = 2">
            <div
              class="error-text items-center flex left-0 bottom-[-24px] w-full bg-[#FFEEEE] text-[#BE4B49] text-xs py-1 pl-4 border-t border-[#BE4B49]"
              *ngIf="registrationForm.controls['name'].invalid  && (registrationForm.controls['name'].dirty || registrationForm.controls['name'].touched)">
              <img src="assets/authicons/error-icon.svg" alt="e">
              <span class="text-[#BE4B49] text-xs ml-2">Please enter your first name!
              </span>
            </div>
          </label>
          <label for="lastName" class="relative" *ngIf="formStepper == 2">
            <p class="opacity-50 text-sm font-normal tall:pb-1">Last Name</p>
            <input formControlName="lastName" id="lastName" name="lastName" type="text"
                   class="w-full py-3 border-b border-[#192339]-200  focus:outline-none placeholder:opacity-50 placeholder:text-xl placeholder:font-semibold placeholder:text-[#192339]"
                   placeholder="Last name"
                   [ngClass]="registrationForm.controls['lastName'].invalid  && (registrationForm.controls['lastName'].dirty || registrationForm.controls['lastName'].touched) ? 'placeholder:text-[#BE4B49]':'placeholder:text-[#192339]'"
                   (keydown.enter)="!registrationForm.controls['name'].invalid &&
              (registrationForm.controls['name'].dirty ||
              registrationForm.controls['name'].touched) && !registrationForm.controls['lastName'].invalid  && (registrationForm.controls['lastName'].dirty || registrationForm.controls['lastName'].touched) ? formStepper = 3 : formStepper = 2">

            <div
              class="error-text items-center flex left-0 bottom-[-24px] w-full bg-[#FFEEEE] text-[#BE4B49] text-xs py-1 pl-4 border-t border-[#BE4B49]"
              *ngIf="registrationForm.controls['lastName'].invalid  && (registrationForm.controls['lastName'].dirty || registrationForm.controls['lastName'].touched)">
              <img src="assets/authicons/error-icon.svg" alt="e">
              <span class="text-[#BE4B49] text-xs ml-2">Please enter your last name!
              </span>
            </div>
          </label>
          <label for="password" class="relative" *ngIf="formStepper == 3">
            <p class="opacity-50 text-sm font-normal tall:pb-1">Password</p>
            <div class="relative">
              <input formControlName="password" id="password" name="password" [type]="password"
                     class="w-full py-3 border-b border-[#192339]-200  focus:outline-none placeholder:opacity-50 placeholder:text-xl placeholder:font-semibold placeholder:text-[#192339]"
                     placeholder="Enter your password"
                     [ngClass]="registrationForm.get('password')!.hasError('passwordStrength') ? 'placeholder:text-[#BE4B49]':'placeholder:text-[#192339]'"
                     (keydown.enter)="onSubmit()">

              <div (click)="handleShowPassword()" class="cursor-pointer">
                <img *ngIf="showPassword" class="absolute right-0 top-2" src="assets/authicons/eye-show.svg"
                     alt="eye">
                <img *ngIf="!showPassword" class="absolute right-0 top-2"
                     src="assets/authicons/eye-hide.svg" alt="eye">
              </div>
            </div>
            <!-- <span
                    *ngIf="registrationForm.controls['password'].invalid  && (registrationForm.controls['password'].dirty || registrationForm.controls['password'].touched)"
                    class="error-text"
                    >Please enter your password!
                  </span> -->

            <div
              class="error-text items-center flex left-0 bottom-[-24px] w-full bg-[#FFEEEE] text-[#BE4B49] text-xs py-1 pl-4 border-t border-[#BE4B49]"
              *ngIf="registrationForm.get('password')!.hasError('passwordStrength')">
              <img src="assets/authicons/error-icon.svg" alt="e">
              <span class="text-[#BE4B49] text-xs ml-2"> Password must contain at least two of the following: numbers,
                lowercase letters, uppercase letters, or special characters.
              </span>
            </div>
          </label>

          <label for="Confirm Password" class="relative" *ngIf="formStepper == 3">
            <p class="opacity-50 text-sm font-normal tall:pb-1">Confirm Password</p>
            <div class="relative">
              <input formControlName="confirmPassword" id="password" name="password" [type]="confirmPassword"
                     class="w-full py-3 border-b border-[#192339]-200  focus:outline-none placeholder:opacity-50 placeholder:text-xl placeholder:font-semibold placeholder:text-[#192339]"
                     placeholder="Enter confirm password"
                     [ngClass]="registrationForm.controls['confirmPassword'].invalid  && (registrationForm.controls['confirmPassword'].dirty || registrationForm.controls['confirmPassword'].touched)? 'placeholder:text-[#BE4B49]':'placeholder:text-[#192339]'"
                     (keydown.enter)="onSubmit()">
              <div (click)="handleShowConfirmPassword()" class="cursor-pointer">
                <img *ngIf="showConfirmPassword" class="absolute right-0 top-2 cursor-pointer"
                     src="assets/authicons/eye-show.svg" alt="eye">
                <img *ngIf="!showConfirmPassword" class="absolute right-0 top-2"
                     src="assets/authicons/eye-hide.svg" alt="eye">
              </div>
            </div>

            <div
              class="error-text items-center flex left-0 bottom-[-24px] w-full bg-[#FFEEEE] text-[#BE4B49] text-xs py-1 pl-4 border-t border-[#BE4B49]"
              *ngIf="registrationForm.get('confirmPassword')?.hasError('matching') && (registrationForm.get('confirmPassword')?.dirty || registrationForm.get('confirmPassword')?.touched)">
              <img src="assets/authicons/error-icon.svg" alt="e">
              <span class="text-[#BE4B49] text-xs ml-2"> Please enter correct password!
              </span>
            </div>

          </label>
          <button *ngIf="formStepper == 1" (click)="formStepper = 1;formStepper = formStepper+1"
                  [disabled]="registrationForm.controls['email'].invalid"
                  class="w-full py-5 font-semibold text-lg  bg-[#586AF6] rounded-lg  inline-flex space-x-2 items-center justify-center">

            <span class="text-white">Sign up to Continue</span>
          </button>
          <button *ngIf="formStepper == 2" (click)="formStepper = 2;formStepper = formStepper+1"
                  [disabled]="registrationForm.controls['lastName'].invalid || registrationForm.controls['name'].invalid"
                  class="w-full py-5 font-semibold text-lg  bg-[#586AF6] rounded-lg  inline-flex space-x-2 items-center justify-center">

            <span class="text-white">Sign up to Continue</span>
          </button>
          <button *ngIf="formStepper == 3" (click)="formStepper = 3;onSubmit()"
                  [disabled]="registrationForm.controls['confirmPassword'].invalid || registrationForm.get('password')!.hasError('passwordStrength')"
                  class="w-full py-5 font-semibold text-lg  bg-[#586AF6] rounded-lg  inline-flex space-x-2 items-center justify-center">

            <span class="text-white">Sign up to Continue</span>
          </button>
          <button (click)="loginWithGoogleOidc()"
                  class="w-full py-5 border font-normal text-lg  bg-white rounded-lg  inline-flex space-x-2 items-center justify-center">
            <img src="assets/authimages/google_logo.png" alt="google">
            <span class="text-black">Sign up with Google </span>
          </button>
          <div *ngIf="resendEmail" class="!mt-2">
            <p class="text-center text-sm text-[#192339] font-normal">
              <br> Didn't receive an email?
              <a (click)="resendOtp()" class="font-bold inline-flex space-x-1 items-center"><span
                class="text-indigo-600 text-sm cursor-pointer">Resend</span></a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="hidden lg:flex w-full lg:w-1/2 justify-around items-center overflow-hidden">
    <img class=" max-h-full min-h-full object-fill fixed lg:w-1/2" src="assets/authimages/auth1.png" alt=""
         srcset=""/>
  </div>
</div>
